"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[425],{9315:function(e,t,r){r.d(t,{JS:function(){return i},MD:function(){return p},gW:function(){return f},k1:function(){return o},v3:function(){return l}});var n=r(5861),a=r(7757),u=r.n(a),s=r(4569),c=r.n(s)().create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"c4c535d4c92d9e8cd45d9f8a1dc15d0d",language:"en-US"}}),i=function(){var e=(0,n.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("trending/movie/day");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("movie/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("search/movie",{params:{query:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("movie/".concat(t,"/credits"),{params:{page:1}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("movie/".concat(t,"/reviews"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},3896:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(6731),a=r(470),u=r(184),s=function(e){var t=e.title,r=e.id,s=(0,a.TH)();return(0,u.jsx)("li",{children:(0,u.jsx)(n.rU,{to:"/movies/".concat(r),state:{from:s},children:t})})},c="FilmList_list__C2ysn",i=function(e){var t=e.movies.map((function(e){var t=e.title,r=e.id;return(0,u.jsx)(s,{title:t,id:r},r)}));return(0,u.jsx)("ul",{className:c,children:t})}},5425:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(5861),a=r(885),u=r(7757),s=r.n(u),c=r(2791),i=r(6731),o=r(470),f=r(9315),p="SearchFilms_form__rBkIs",l="SearchFilms_wrap__MdY0E",v="SearchFilms_input__7+G3i",d="SearchFilms_btn__y2iKL",h=r(5562),m=r.n(h),x=r(3896),_=r(9645),g=r(184);function w(){var e,t=(0,c.useState)([]),r=(0,a.Z)(t,2),u=r[0],h=r[1],w=(0,c.useState)(!1),b=(0,a.Z)(w,2),k=b[0],j=b[1],y=(0,c.useState)(null),Z=(0,a.Z)(y,2),S=Z[0],F=Z[1],N=(0,i.lr)(),L=(0,a.Z)(N,2),C=L[0],q=L[1],U=null!==(e=C.get("find"))&&void 0!==e?e:"";(0,c.useEffect)((function(){U&&D(U)}),[U]);var D=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,(0,f.gW)(t.toLowerCase());case 4:if((r=e.sent).results.length){e.next=10;break}return q(""),h([]),m().Notify.failure("Invalid request"),e.abrupt("return");case 10:h(r.results),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),F(e.t0);case 17:return e.prev=17,j(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{children:[(0,g.jsx)("form",{className:p,onSubmit:function(e){e.preventDefault();var t=e.target.elements.search.value;q(""!==t?{find:t}:{}),e.currentTarget.reset()},children:(0,g.jsxs)("div",{className:l,children:[(0,g.jsx)("input",{className:v,placeholder:"Let's find it!",type:"text",name:"search",autoFocus:!0,required:!0}),(0,g.jsx)("button",{className:d,children:"Search"})]})}),u.length>0&&(0,g.jsx)(x.Z,{movies:u}),k&&(0,g.jsx)(_.Z,{}),S&&(0,g.jsx)("h2",{children:"Oops, something went wrong..."}),(0,g.jsx)(o.j3,{})]})}}}]);
//# sourceMappingURL=425.9e2249ce.chunk.js.map